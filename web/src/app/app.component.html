<div class="app-container">
  <!-- Header elegante -->
  <header class="header">
    <div class="header-content">
      <div class="logo">
        <span class="logo-icon">âš•ï¸</span>
        <h1>Telepatia</h1>
      </div>
      <p class="subtitle">Pipeline MÃ©dico Inteligente</p>
    </div>
  </header>

  <!-- Container principal -->
  <main class="main-content">
    <!-- SeÃ§Ã£o de entrada -->
    <section class="input-section">
      <h2>AnÃ¡lise de Dados MÃ©dicos</h2>
      
      <!-- OpÃ§Ã£o 1: URL do Ã¡udio -->
      <div class="input-group">
        <label>URL do Ãudio</label>
        <div class="input-wrapper">
          <input 
            [(ngModel)]="audioUrl" 
            placeholder="Cole aqui a URL do arquivo de Ã¡udio..."
            class="input-field"
          >
          <button 
            (click)="onTranscribe()" 
            [disabled]="loading() || !audioUrl.trim()"
            [class.loading]="loading()"
            class="btn btn-primary"
          >
            <span *ngIf="!loading()">ğŸµ Transcrever</span>
            <span *ngIf="loading()">Transcrevendo...</span>
          </button>
        </div>
      </div>

      <!-- Separador elegante -->
      <div class="separator">
        <span>ou</span>
      </div>

      <!-- OpÃ§Ã£o 2: Texto livre -->
      <div class="input-group">
        <label>Texto MÃ©dico</label>
        <textarea 
          [(ngModel)]="freeText" 
          rows="4" 
          placeholder="Digite ou cole o texto mÃ©dico aqui..."
          class="textarea-field"
        ></textarea>
        <button 
          (click)="onExtract()" 
          [disabled]="loading() || !freeText.trim()"
          [class.loading]="loading()"
          class="btn btn-primary"
        >
          <span *ngIf="!loading()">ğŸ” Extrair Dados</span>
          <span *ngIf="loading()">Extraindo...</span>
        </button>
      </div>
    </section>

    <!-- SeÃ§Ã£o de resultados -->
    <section class="results-section" *ngIf="transcription() || medicalJson()">
      <h2>Resultados da AnÃ¡lise</h2>
      
      <!-- TranscriÃ§Ã£o -->
      <div class="result-card" *ngIf="transcription()">
        <h3>ğŸ“ TranscriÃ§Ã£o</h3>
        <div class="result-content">{{ transcription() }}</div>
      </div>

      <!-- ExtraÃ§Ã£o estruturada -->
      <div class="result-card" *ngIf="medicalJson()">
        <h3>ğŸ“Š Dados Estruturados</h3>
        <div class="result-content json-content">{{ medicalJson() }}</div>
        <button 
          (click)="onDiagnose()" 
          [disabled]="!medicalObj() || loading()"
          [class.loading]="loading()"
          class="btn btn-success"
        >
          <span *ngIf="!loading()">ğŸ§  Gerar DiagnÃ³stico</span>
          <span *ngIf="loading()">Gerando...</span>
        </button>
      </div>
    </section>

    <!-- SeÃ§Ã£o de diagnÃ³stico -->
    <section class="diagnosis-section" *ngIf="diagnosis()">
      <h2>ğŸ¥ DiagnÃ³stico ClÃ­nico</h2>
      <div class="diagnosis-card">
        <div class="diagnosis-content">{{ diagnosis() }}</div>
      </div>
    </section>

    <!-- Mensagens de erro -->
    <div class="error-message" *ngIf="error()">
      <span class="error-icon">âš ï¸</span>
      <span>{{ error() }}</span>
    </div>
  </main>
</div>
